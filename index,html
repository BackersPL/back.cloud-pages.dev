<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <title>MC Plugins Status</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, Arial; padding: 20px; }
    .plugin { margin-bottom: 8px; }
    .active { color: green; }
    .inactive { color: gray; }
  </style>
</head>
<body>
  <h1>Pluginy — status</h1>
  <div id="list">Ładowanie…</div>
  <script>
    async function loadStatus(){
      try {
        // względny path - działa z GitHub Pages (pobiera ./status.json z tego samego katalogu)
        const res = await fetch('./status.json', { cache: 'no-cache' });
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const data = await res.json();
        const root = document.getElementById('list');
        root.innerHTML = '';
        for (const [name, status] of Object.entries(data)) {
          const div = document.createElement('div');
          div.className = 'plugin ' + status;
          div.innerHTML = `<strong>${name}</strong>: <span class="${status}">${status}</span>`;
          root.appendChild(div);
        }
      } catch (e) {
        document.getElementById('list').innerText = 'Błąd: ' + e.message;
      }
    }

    loadStatus();
    // odświeżaj co 2 sekundy
    setInterval(loadStatus, 2000);
  </script>
</body>
</html>
